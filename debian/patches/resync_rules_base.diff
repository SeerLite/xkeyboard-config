# To rebuild this patch, run
  ./debian/rules config.status
  cd rules/compat
  quilt add base.l[2-4]*.part base.m*.part
  rm -f base.l[2-4]*.part base.m*.part
  make
  cd ..
  quilt add base base.lst
  rm -f base base.lst
  make base base.lst
  cd ..
  quilt refresh --sort
  exit 0

Index: xkb-data/rules/base
===================================================================
--- xkb-data.orig/rules/base
+++ xkb-data/rules/base
@@ -23,9 +23,8 @@
 // PC geometries - they have special geometry but symbols are mostly pc105
 ! $pcgeometries = abnt2 latitude jp106 kr106
 
-! $macbooks = macbook78 macbook79
-! $maclaptop = ibook powerbook macbook78 macbook79
-! $macs = macintosh macintosh_old ibook powerbook macbook78 macbook79
+! $maclaptop = ibook powerbook
+! $macs = macintosh macintosh_old ibook powerbook
 
 ! $macvendorlayouts = ch de dk es fi fr gb is it nl no pt se us
 
@@ -42,11 +41,11 @@
               compaqeak8 compaqik7 compaqik13 compaqik18 \
               cymotionlinux \
               presario ipaq \
-              dell inspiron dellusbmm dtk2000 \
+              dell inspiron latitude dellusbmm dtk2000 \
               dexxa diamond \
               genius geniuscomfy geniuscomfy2 genius_kb19e_nb \
               emachines ennyah_dkb1008 gyration \
-              hpi6 hp2501 hp2505 hp5181 hpxe3gc hpxe3gf hpxe4xxx hpzt11xx \
+              hpi6 hp2501 hp2505 hp5181 hpxe3gc hpxe3gf hpxe4xxx hpxt1000 hpzt11xx \
               hp500fa hp5xx hp5185 \
               honeywell_euroboard \
               rapidaccess rapidaccess2 rapidaccess2a \
@@ -101,7 +100,6 @@
   abnt2		=	xfree86(abnt2)
   jp106		=	xfree86(jp106)
   evdev		=	evdev
- $macbooks	=	macintosh(macbook)
  $macs   	=	macintosh
   *		=	xfree86
 
@@ -127,7 +125,6 @@
   everex	=	everex(STEPnote)
   winbook	=	winbook(XP5)
   pc98		=	nec(pc98)
- $macbooks      =       macintosh(%m)
  $macs		=	macintosh(macintosh)
   *		=       pc(pc104)
 
@@ -214,7 +211,7 @@
   *		yu		yz		=	pc(pc105)+srp(latinyz)
   $pcmodels	yu		unicodeyz		=	pc(%m)+srp(latinunicodeyz)
   *		yu		unicodeyz		=	pc(pc105)+srp(latinunicodeyz)
- $macs		$macvendorlayouts	nodeadkeys	=	macintosh_vndr/us(extended)+macintosh_vndr/%l%(v)
+ $macs		$macvendorlayouts	nodeadkeys	=	pc(pc105)+macintosh_vndr/us(extended)+macintosh_vndr/%l%(v)
 
 ! model		layout				=	symbols
   $pcmodels	ar			=	pc(%m)+ara
@@ -361,12 +358,11 @@
   sun5		*			=	latin+sun_vndr/us(sun5)+%l%(v)
   pc98		nec_vndr/jp		=	nec_vndr/jp(pc98)
   abnt2		br			=	pc(pc104)+br
-  old_macintosh	us			=	macintosh_vndr/us(extended)
-  old_macintosh	en_US			=	macintosh_vndr/us(extended)
-  old_macintosh	$macvendorlayouts	=	macintosh_vndr/us(extended)+macintosh_vndr/%l%(v)
-  old_macintosh	$nonlatin		=	macintosh_vndr/us(extended)+%l%(v):2
-  old_macintosh	*			=	macintosh_vndr/us(extended)+%l%(v)
- $macbooks	*			=	pc(pc105)+%l%(v)
+  old_macintosh	us			=	macintosh_vndr/us(oldmac)
+  old_macintosh	en_US			=	macintosh_vndr/us(oldmac)
+  old_macintosh	$macvendorlayouts	=	macintosh_vndr/us(oldmac)+macintosh_vndr/%l%(v)
+  old_macintosh	$nonlatin		=	macintosh_vndr/us(oldmac)+%l%(v):2
+  old_macintosh	*			=	macintosh_vndr/us(oldmac)+%l%(v)
  $macs		en_US			=	pc(pc105)+macintosh_vndr/us(extended)
  $macs		$macvendorlayouts	=	pc(pc105)+macintosh_vndr/%l%(v)
  $pcmodels      intl   			=       us(%mcompose)
@@ -516,9 +512,9 @@
   amiga		*			=	xfree68_vndr/amiga(usa1)+%l[1]%(v[1])
   sun4		*			=	latin+sun_vndr/us(sun4)+%l[1]%(v[1])
   sun5		*			=	latin+sun_vndr/us(sun5)+%l[1]%(v[1])
-  old_macintosh	us			=	macintosh_vndr/us(extended)
-  old_macintosh	$macvendorlayouts	=	macintosh_vndr/us(extended)+macintosh_vndr/%l[1]%(v[1])
-  old_macintosh	*			=	macintosh_vndr/us(extended)+%l[1]%(v[1])
+  old_macintosh	us			=	macintosh_vndr/us(oldmac)
+  old_macintosh	$macvendorlayouts	=	macintosh_vndr/us(oldmac)+macintosh_vndr/%l[1]%(v[1])
+  old_macintosh	*			=	macintosh_vndr/us(oldmac)+%l[1]%(v[1])
  $macs		$macvendorlayouts	=	pc(pc105)+macintosh_vndr/%l[1]%(v[1])
  $pcmodels	*			=	pc(%m)+%l[1]%(v[1])
   *		*			=	pc(pc105)+%l[1]%(v[1])
@@ -1010,6 +1006,7 @@
   grp:lctrl_toggle	=	+group(lctrl_toggle)
   grp:rctrl_toggle	=	+group(rctrl_toggle)
   grp:lalt_toggle	=	+group(lalt_toggle)
+  grp:sclk_toggle	=	+group(sclk_toggle)
   lv3:switch		=	+level3(switch)
   lv3:ralt_switch	=	+level3(ralt_switch)
   lv3:ralt_switch_multikey	=	+level3(ralt_switch_multikey)
Index: xkb-data/rules/base.lst
===================================================================
--- xkb-data.orig/rules/base.lst
+++ xkb-data/rules/base.lst
@@ -4,6 +4,7 @@
   pc104           Generic 104-key PC
   pc105           Generic 105-key (Intl) PC
   dell101         Dell 101-key PC
+  latitude        Dell Latitude series laptop
   everex          Everex STEPnote
   flexpro         Keytronic FlexPro
   microsoft       Microsoft Natural
@@ -13,6 +14,7 @@
   pc98            PC-98xx Series
   a4techKB21      A4Tech KB-21
   a4techKBS8      A4Tech KBS-8
+  a4_rfkb23       A4Tech Wireless Desktop RFKB-23
   abnt2           Brazilian ABNT2
   airkey          Acer AirKey V
   acpi            ACPI Standard
@@ -49,6 +51,7 @@
   genius          Genius Comfy KB-16M / Genius MM Keyboard KWD-910
   geniuscomfy     Genius Comfy KB-12e
   geniuscomfy2    Genius Comfy KB-21e-Scroll
+  genius_kb19e_nb Genius KB-19e NB
   gyration        Gyration
   hpi6            Hewlett-Packard Internet Keyboard
   hp2501          Hewlett-Packard SK-2501 Multimedia Keyboard
@@ -68,21 +71,21 @@
   logiaccess      Logitech Access Keyboard
   ltcd            Logitech Cordless Desktop
   logicdit        Logitech Cordless Desktop iTouch
+  logiclx300      Logitech Cordless Desktop LX-300
   logicdp         Logitech Cordless Desktop Pro
   logicdpa        Logitech Cordless Desktop Pro (alternate option)
   logicdpa2       Logitech Cordless Desktop Pro (alternate option2)
   logicdo         Logitech Cordless Desktop Optical
   logicfn         Logitech Cordless Freedom/Desktop Navigator
   logicdn         Logitech Cordless Desktop Navigator
-  logidak         Logitech Deluxe Access Keyboard
   logiitc         Logitech iTouch Cordless Keyboard (model Y-RB6)
   logiik          Logitech Internet Keyboard
   itouch          Logitech iTouch
-  logiitc         Logitech iTouch Cordless Keyboard (model Y-RB6)
-  logiik          Logitech Internet Keyboard
-  logiink         Logitech Internet Navigator Keyboard
-  itouchin        Logitech iTouch keyboard Internet Navigator
+  logicink        Logitech Internet Navigator Keyboard
+  logiinkse       Logitech iTouch Internet Navigator Keyboard SE
+  logiinkseusb    Logitech iTouch Internet Navigator Keyboard SE (USB)
   logiultrax      Logitech Ultra-X Keyboard
+  dinovo          Logitech diNovo Keyboard
   mx1998          Memorex MX1998
   mx2500          Memorex MX2500 EZ-Access Keyboard
   mx2750          Memorex MX2750
@@ -112,10 +115,15 @@
   macintosh       Macintosh
   macintosh_old   Macintosh Old
   powerpcps2      PowerPC PS/2
+  acer_c300       Acer C300
   acer_tm_800     Acer TravelMate 800
-  power_g5        Power G5
+  acer_ferrari4k  Acer Ferrari 4000
+  apple           Apple
+  apple_laptop    Apple Laptop
   silvercrest     SILVERCREST Multimedia Wireless Keyboard
   emachines       Laptop/notebook eMachines m68xx
+  kr106           Korean 106-key
+  evdev           Evdev-managed keyboard
 
 ! layout
   us              U.S. English
@@ -134,6 +142,7 @@
   bg              Bulgaria
   mm              Myanmar
   ca              Canada
+  cd              Congo, Democratic Republic of the
   hr              Croatia
   cz              Czechia
   dk              Denmark
@@ -141,6 +150,7 @@
   bt              Bhutan
   ee              Estonia
   ir              Iran
+  iq              Iraq
   fo              Faroe Islands
   fi              Finland
   fr              France
@@ -184,12 +194,14 @@
   gb              United Kingdom
   uz              Uzbekistan
   vn              Vietnam
-  nec_vndr/jp     PC-98xx Series
+  kr              Korea, Republic of
+  nec_vndr/jp     Japan (PC-98xx Series)
   ie              Ireland
   pk              Pakistan
   mv              Maldives
   za              South Africa
   epo             Esperanto
+  np              Nepal
 
 ! variant
   intl            us: International (with dead keys)
@@ -197,6 +209,7 @@
   dvorak          us: Dvorak
   dvorak-l        us: Left handed Dvorak
   dvorak-r        us: Right handed Dvorak
+  dvorak-classic  us: Classic Dvorak
   rus             us: Russian phonetic
   ps              af: Pashto
   uz              af: Southern Uzbek
@@ -212,6 +225,7 @@
   iso-alternate   be: ISO Alternate
   nodeadkeys      be: Eliminate dead keys
   sundeadkeys     be: Sun dead keys
+  wang            be: Wang model 724 azerty
   probhat         bd: Probhat
   ben             in: Bengali
   ben_probhat     in: Bengali Probhat
@@ -226,7 +240,7 @@
   tam             in: Tamil
   tel             in: Telugu
   urd             in: Urdu
-  alternatequotes ba: Use guillemots for quotes
+  alternatequotes ba: Use guillemets for quotes
   unicode         ba: Use Bosnian digraphs
   unicodeus       ba: US keyboard with Bosnian digraphs
   us              ba: US keyboard with Bosnian letters
@@ -238,7 +252,7 @@
   multi           ca: Multilingual, first part
   multi-2gr       ca: Multilingual, second part
   ike             ca: Inuktitut
-  alternatequotes hr: Use guillemots for quotes
+  alternatequotes hr: Use guillemets for quotes
   unicode         hr: Use Croatian digraphs
   unicodeus       hr: US keyboard with Croatian digraphs
   us              hr: US keyboard with Croatian letters
@@ -252,9 +266,18 @@
   pro             ir: Pro
   keypad          ir: Keypad
   pro_keypad      ir: Pro Keypad
+  ku              ir: Kurdish, Latin Q
+  ku_f            ir: Kurdish, (F)
+  ku_alt          ir: Kurdish, Latin Alt-Q
+  ku_ara          ir: Kurdish, Arabic-Latin
+  ku              iq: Kurdish, Latin Q
+  ku_f            iq: Kurdish, (F)
+  ku_alt          iq: Kurdish, Latin Alt-Q
+  ku_ara          iq: Kurdish, Arabic-Latin
   nodeadkeys      fo: Eliminate dead keys
   nodeadkeys      fi: Eliminate dead keys
   smi             fi: Northern Saami
+  kotoistus       fi: Kotoistus
   nodeadkeys      fr: Eliminate dead keys
   sundeadkeys     fr: Sun dead keys
   latin9          fr: Alternative
@@ -275,6 +298,9 @@
   ro_nodeadkeys   de: Romanian keyboard with German letters, eliminate dead keys
   dvorak          de: Dvorak
   sundeadkeys     de: Sun dead keys
+  neo             de: Neostyle
+  mac             de: Macintosh layout
+  mac_nodeadkeys  de: Macintosh layout, eliminate dead keys
   extended        gr: Extended
   nodeadkeys      gr: Eliminate dead keys
   polytonic       gr: Polytonic
@@ -300,7 +326,6 @@
   Sundeadkeys     is: Sun dead keys
   nodeadkeys      is: Eliminate dead keys
   lyx             il: lyx
-  si1452          il: si1452
   phonetic        il: Phonetic
   nodeadkeys      it: Eliminate dead keys
   ruskaz          kz: Russian with Kazakh
@@ -309,11 +334,12 @@
   sundeadkeys     latam: Sun dead keys
   std             lt: Standard
   us              lt: US keyboard with Lithuanian letters
+  ibm             lt: IBM (LST 1205-92)
   apostrophe      lv: Apostrophe (') variant
   tilde           lv: Tilde (~) variant
   fkey            lv: F-letter (F) variant
   nodeadkeys      mk: Eliminate dead keys
-  us              mt: US keyboard with Maltian letters
+  us              mt: Maltese keyboard with US layout
   nodeadkeys      no: Eliminate dead keys
   dvorak          no: Dvorak
   smi             no: Northern Saami
@@ -322,6 +348,7 @@
   dvorak          pl: Dvorak
   dvorak_quotes   pl: Dvorak, Polish quotes on quotemark key
   dvorak_altquotes pl: Dvorak, Polish quotes on key "1/!"
+  csb             pl: Kashubian
   nodeadkeys      pt: Eliminate dead keys
   sundeadkeys     pt: Sun dead keys
   std             ro: Standard
@@ -330,14 +357,16 @@
   typewriter      ru: Typewriter
   winkeys         ru: Winkeys
   tt              ru: Tatar
+  os              ru: Ossetian
+  os_winkeys      ru: Ossetian, Winkeys
   yz              cs: Z and ZHE swapped
   latin           cs: Latin
   latinunicode    cs: Latin Unicode
   latinyz         cs: Latin qwerty
   latinunicodeyz  cs: Latin Unicode qwerty
-  alternatequotes cs: With guillemots
-  latinalternatequotes cs: Latin with guillemots
-  alternatequotes si: Use guillemots for quotes
+  alternatequotes cs: With guillemets
+  latinalternatequotes cs: Latin with guillemets
+  alternatequotes si: Use guillemets for quotes
   unicode         si: Use Slovenian digraphs
   unicodeus       si: US keyboard with Slovenian digraphs
   us              si: US keyboard with Slovenian letters
@@ -358,8 +387,13 @@
   fr              ch: French
   fr_nodeadkeys   ch: French, eliminate dead keys
   fr_sundeadkeys  ch: French, Sun dead keys
+  fr_mac          ch: French (Macintosh)
+  de_mac          ch: German (Macintosh)
   syc             sy: Syriac
   syc_phonetic    sy: Syriac phonetic
+  ku              sy: Kurdish, Latin Q
+  ku_f            sy: Kurdish, (F)
+  ku_alt          sy: Kurdish, Latin Alt-Q
   tam_unicode     lk: Tamil Unicode
   tam_TAB         lk: Tamil TAB Typewriter
   tis             th: TIS-820.2538
@@ -367,6 +401,9 @@
   f               tr: (F)
   alt             tr: Alt-Q
   sundeadkeys     tr: Sun dead keys
+  ku              tr: Kurdish, Latin Q
+  ku_f            tr: Kurdish, (F)
+  ku_alt          tr: Kurdish, Latin Alt-Q
   phonetic        ua: Phonetic
   typewriter      ua: Typewriter
   winkeys         ua: Winkeys
@@ -374,6 +411,7 @@
   rstu_ru         ua: Standard RSTU on Russian layout
   intl            gb: International (with dead keys)
   dvorak          gb: Dvorak
+  kr104           kr: 101/104 key Compatible
   CloGaelach      ie: CloGaelach
   UnicodeExpert   ie: UnicodeExpert
   ogam            ie: Ogham
@@ -391,6 +429,7 @@
   grp:lalt_toggle      Left Alt key changes group.
   grp:caps_toggle      CapsLock key changes group.
   grp:shift_caps_toggle Shift+CapsLock changes group.
+  grp:alt_caps_toggle  Alt+CapsLock changes group.
   grp:shifts_toggle    Both Shift keys together change group.
   grp:alts_toggle      Both Alt keys together change group.
   grp:ctrls_toggle     Both Ctrl keys together change group.
@@ -404,6 +443,7 @@
   grp:rshift_toggle    Right Shift key changes group.
   grp:lctrl_toggle     Left Ctrl key changes group.
   grp:rctrl_toggle     Right Ctrl key changes group.
+  grp:sclk_toggle      ScrollLock key changes group.
   lv3                  Third level choosers
   lv3:switch           Press Right Ctrl to choose 3rd level.
   lv3:menu_switch      Press Menu key to choose 3rd level.
@@ -413,6 +453,7 @@
   lv3:alt_switch       Press any of Alt keys to choose 3rd level.
   lv3:lalt_switch      Press Left Alt key to choose 3rd level.
   lv3:ralt_switch      Press Right Alt key to choose 3rd level.
+  lv3:ralt_switch_multikey Press Right Alt key to choose 3rd level, Shift+Right Alt key is Multi_Key.
   ctrl                 Ctrl key position
   ctrl:nocaps          Make CapsLock an additional Ctrl.
   ctrl:swapcaps        Swap Ctrl and CapsLock.
@@ -439,8 +480,10 @@
   altwin:super_win     Super is mapped to the Win-keys (default).
   altwin:hyper_win     Hyper is mapped to the Win-keys.
   altwin:alt_super_win Alt is mapped to the right Win-key and Super to Menu.
+  altwin:swap_lalt_lwin Left Alt is swapped with left Win-key.
   Compose key          Compose key position
   compose:ralt         Right Alt is Compose.
+  compose:lwin         Left Win-key is Compose.
   compose:rwin         Right Win-key is Compose.
   compose:menu         Menu is Compose.
   compose:rctrl        Right Ctrl is Compose.
